<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="src/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="src/bootstrap/css/animate.css">
    <script src="./src/js/jquery-1.11.2.js"></script>
    <script src="./src/js/sea.js"></script>
    <script src="./src/config.js"></script>
    <script src="./src/js/masonry.pkgd.js"></script>
    <style>
        div{
            float:left;
            margin:10px;
        }
        .box1{
            width:200px;
            height:600px;
            background-color: #f583bd;
        }
        .box2{
            width:200px;
            height:300px;
            background-color: #3ccb88;
        }
        .box3{
            width:200px;
            height:200px;
            background-color: #ff4256;
        }
        .sf-dn{
            display: none;
        }
        .sf.dn{
            display: inline-block;
        }
        img{
            width:100%;
            height:100%;
        }
    </style>
</head>
<body>
<div class="container grid">
    <DIV class="box3 animated fadeInDown grid-item"></DIV>
    <DIV class="box2 animated fadeInDown grid-item"></DIV>
    <DIV class="box1 animated fadeInDown grid-item"></DIV>
    <DIV class="box3 animated fadeInDown grid-item"></DIV>
    <DIV class="box2 animated fadeInDown grid-item"></DIV>
    <DIV class="box1 animated fadeInDown grid-item"></DIV>
    <DIV class="box3 animated fadeInDown grid-item"></DIV>
    <DIV class="box2 animated fadeInDown grid-item"></DIV>
    <DIV class="box1 animated fadeInDown grid-item"></DIV>
    <DIV class="box2 animated fadeInDown grid-item"></DIV>
</div>

    <script>
        loadMore();
        function loadMore() {
            window.onscroll = function() {
                var screenHeight = (document.documentElement.scrollTop || document.body.scrollTop) +
                        (document.documentElement.clientHeight || document.body.clientHeight);
//                var container = waterfall.columns[waterfall.getMinHeightIndex()];
                var container=document.getElementsByClassName("container")[0];
                var containerHeight = container.offsetTop  + container.offsetHeight;
                if (containerHeight <= screenHeight) {
                    var $item=load();
                    $grid.append($item).masonry("appended",$item)
                }
            }
        }
        var height=[200,300,400,500,600];
        var bg=["#5053af","#3ccb88","#f583bd","#b9c474","#ff4256"];
        var animates=["bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp","fadeInRightBig",
            "rotateIn","bounceInDown","bounceInLeft","fadeInDown","fadeInLeft","fadeInLeftBig"];
        function load(){
            var h=height[mathRandom(0,height.length-1)];
            var b=bg[mathRandom(0,bg.length-1)];
            var ani=animates[mathRandom(0,animates.length-1)];
            console.log(ani);
            return $("<div />",{
                height:h+"px",
                width:"200px",
                "class":"animated grid-item "+ani
            }).css({backgroundColor:b});
        }
       function mathRandom(min,max){
            return Math.floor((max-min+1)*Math.random()+min);
        }
        var $grid =$(".grid").masonry({
            itemSelector:".grid-item",
            percentPosition: true
        });
    </script>
</body>
</html>