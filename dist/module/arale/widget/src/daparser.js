function camelCase(e){return e.toLowerCase().replace(RE_DASH_WORD,function(e,a){return(a+"").toUpperCase()})}function normalizeValues(e){for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];if("string"!=typeof r)continue;JSON_LITERAL_PATTERN.test(r)?(r=r.replace(/'/g,'"'),e[a]=normalizeValues(parseJSON(r))):e[a]=normalizeValue(r)}return e}function normalizeValue(e){if("false"===e.toLowerCase())e=!1;else if("true"===e.toLowerCase())e=!0;else if(/\d/.test(e)&&/[^a-z]/i.test(e)){var a=parseFloat(e);a+""===e&&(e=a)}return e}var $=require("jquery");exports.parseElement=function(e,a){e=$(e)[0];var r={};if(e.dataset)r=$.extend({},e.dataset);else for(var t=e.attributes,n=0,s=t.length;s>n;n++){var i=t[n],o=i.name;0===o.indexOf("data-")&&(o=camelCase(o.substring(5)),r[o]=i.value)}return a===!0?r:normalizeValues(r)};var RE_DASH_WORD=/-([a-z])/g,JSON_LITERAL_PATTERN=/^\s*[\[{].*[\]}]\s*$/,parseJSON=window.JSON?JSON.parse:$.parseJSON;